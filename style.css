:root{
  --bg:#00007f;
  --line:red;
}
*{
  box-sizing:border-box;
  margin:0;
  padding:0
}

html,body{
  height:100%;
  background:var(--bg);
  overflow:hidden
}

#stage{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  overflow:hidden;
  z-index:1
}
.map{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:.9;
  pointer-events:none
}


.net{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:2
}

#lines{pointer-events:none}


line.link{
  stroke: var(--line);
  stroke-width: 2;
  stroke-linecap: round;
  vector-effect: non-scaling-stroke;
  opacity: 0;
  
}
line.link.visible{ opacity: 1; }


#joints{pointer-events:none}
.joint{
  fill:red;
  
  opacity: 0;
  transform-box: fill-box;
  transform-origin: center;
}
.joint.on{
  opacity: 1;
  
}
.ring{ display:none } 


.node{position:absolute;transform:translate(-50%,-50%)}
.node img{
  display:block;width:100px;
  opacity:0;
}
.node:hover img, .node.sticky img{opacity:1;transform:scale(1.03)}


.node.bg img {
  opacity: 0; 
  
}


.node.bg:hover img,
.node.bg.sticky img {
  opacity: 0.5; /* half transparent when visible */
}



.label{
  position:absolute;
  left:50%;
  top:4px;

  padding:2px 6px;
  font:12px/1.2 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:#fff;
  background:var(--label-bg,rgba(0,0,0,.45));
  border:1px solid rgba(255,255,255,.15);
  opacity:0;
  white-space:nowrap
}
.node:hover .label, .node.sticky .label{opacity:1}

